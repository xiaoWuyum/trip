# ğŸ¨ æ˜“å®¿é…’åº—é¢„è®¢å¹³å° (EasyStay)

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Taro](https://img.shields.io/badge/Taro-3.x-blue)](https://taro.jd.com/)
[![React](https://img.shields.io/badge/React-18-blue)](https://reactjs.org/)
[![Node.js](https://img.shields.io/badge/Node.js-LTS-green)](https://nodejs.org/)

> ä¸€ä¸ªé›†â€œCç«¯ç”¨æˆ·é¢„è®¢â€ä¸â€œBç«¯å•†æˆ·/ç®¡ç†åå°â€ä¸ºä¸€ä½“çš„ç»¼åˆæ€§é…’åº—æœåŠ¡å¹³å°ã€‚
> æœ¬é¡¹ç›®é‡‡ç”¨ Monorepo æ¶æ„ï¼Œæ³¨é‡ç”¨æˆ·ä½“éªŒã€æ•°æ®å®æ—¶æ€§åŠé«˜å¹¶å‘åœºæ™¯ä¸‹çš„åˆ—è¡¨æ¸²æŸ“æ€§èƒ½ã€‚

---

## ğŸ“š é¡¹ç›®å¯¼èˆª

- [äº§å“éœ€æ±‚æ–‡æ¡£ (PRD)](./PRD.md)
- [ç§»åŠ¨ç«¯ (C-Side) è¯´æ˜](./client-mobile/README.md)
- [ç®¡ç†ç«¯ (B-Side) è¯´æ˜](./client-admin/README.md)
- [åç«¯æœåŠ¡ (Server) è¯´æ˜](./server/README.md)

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ“± ç§»åŠ¨ç«¯ (ç”¨æˆ·ç«¯)
- **å¤šç«¯é€‚é…**: åŸºäº Taro å®ç°å¾®ä¿¡å°ç¨‹åºä¸ H5 ä¸€å¥—ä»£ç å¤šç«¯è¿è¡Œã€‚
- **æè‡´æ€§èƒ½**: é’ˆå¯¹é•¿åˆ—è¡¨å®ç°**è™šæ‹Ÿæ»šåŠ¨ (Virtual Scroll)**ï¼Œç¡®ä¿æ»‘åŠ¨æµç•…ä¸å¡é¡¿ã€‚
- **æ™ºèƒ½æœç´¢**: æ”¯æŒåœ°ç†å®šä½ã€å…³é”®å­—æ¨¡ç³Šæœç´¢åŠå¤šç»´åº¦ç­›é€‰ã€‚
- **å®æ—¶é¢„è®¢**: å®Œæ•´çš„ä¸‹å•æµç¨‹ï¼Œæ¨¡æ‹Ÿæ”¯ä»˜ä¸è®¢å•çŠ¶æ€æµè½¬ã€‚

### ğŸ–¥ï¸ ç®¡ç†ç«¯ (å•†æˆ·/ç®¡ç†å‘˜)
- **è§’è‰²æƒé™æ§åˆ¶ (RBAC)**:
    - **å•†æˆ·**: é…’åº—å½•å…¥ã€æˆ¿å‹ç®¡ç†ã€è®¢å•æŸ¥çœ‹ã€‚
    - **ç®¡ç†å‘˜**: èµ„è´¨å®¡æ ¸ã€è¿è§„ä¸‹æ¶ã€å…¨å±€ç”¨æˆ·ç®¡ç†ã€‚
- **é«˜æ•ˆå·¥ä½œæµ**: é›†æˆ Ant Design 5.0ï¼Œæä¾›å¼ºå¤§çš„è¡¨å•ä¸è¡¨æ ¼äº¤äº’ä½“éªŒã€‚
- **æ•°æ®å¯è§†åŒ–**: ç›´è§‚å±•ç¤ºè®¢å•çŠ¶æ€ä¸å®¡æ ¸è¿›åº¦ã€‚

### ğŸ”™ åç«¯æœåŠ¡
- **RESTful API**: åŸºäº Express/Koa æ„å»ºçš„æ ‡å‡†æ¥å£ã€‚
- **MongoDB**: åˆ©ç”¨ GeoJSON å®ç°åœ°ç†ä½ç½®æŸ¥è¯¢ (`$near`)ã€‚
- **å®‰å…¨é‰´æƒ**: å…¨ç«™é‡‡ç”¨ JWT æ— çŠ¶æ€è®¤è¯ã€‚

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ (Tech Stack)

| æ¨¡å— | æŠ€æœ¯é€‰å‹ | æ ¸å¿ƒç†ç”± |
| :--- | :--- | :--- |
| **Monorepo** | NPM Workspaces | ç»Ÿä¸€ç®¡ç†ä¾èµ–ï¼Œä»£ç åˆ†å±‚æ¸…æ™° |
| **Mobile (C-Side)** | React + Taro + Taro UI | è·¨ç«¯èƒ½åŠ›å¼ºï¼Œç”Ÿæ€æˆç†Ÿ |
| **Admin (B-Side)** | React (Vite) + Ant Design 5 | Bç«¯æ ‡å‡†ç»„ä»¶åº“ï¼Œå¼€å‘æ•ˆç‡é«˜ |
| **Server** | Node.js + Express + MongoDB | çµæ´»çš„æ–‡æ¡£å‹æ•°æ®åº“é€‚åˆå¤æ‚é…’åº—æ•°æ® |
| **Auth** | JWT (JSON Web Token) | é€‚åˆå‰åç«¯åˆ†ç¦»çš„æ— çŠ¶æ€è®¤è¯ |
| **Tools** | ESLint + Prettier + Husky | è§„èŒƒä»£ç è´¨é‡ |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹ (Quick Start)

### 1. ç¯å¢ƒå‡†å¤‡
ç¡®ä¿æ‚¨çš„ç¯å¢ƒå·²å®‰è£…ï¼š
- Node.js >= 16.0.0
- MongoDB (æœ¬åœ°æˆ–è¿œç¨‹æœåŠ¡)

### 2. å®‰è£…ä¾èµ–
åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œï¼š

```bash
# å®‰è£…æ‰€æœ‰ workspace çš„ä¾èµ– (å»ºè®®ä½¿ç”¨ legacy-peer-deps é¿å…ç‰ˆæœ¬å†²çª)
npm install --legacy-peer-deps
```

### 3. é…ç½®ç¯å¢ƒå˜é‡
åœ¨ `server` ç›®å½•ä¸‹åˆ›å»º `.env` æ–‡ä»¶ï¼š

```properties
PORT=5000
MONGO_URI=mongodb://localhost:27017/easy-stay
JWT_SECRET=your_jwt_secret_key
```

### 4. å¯åŠ¨é¡¹ç›®

æˆ‘ä»¬æä¾›äº†ä¾¿æ·çš„ NPM Scripts æ¥å¯åŠ¨å„ä¸ªæœåŠ¡ï¼š

```bash
# å¯åŠ¨åç«¯æœåŠ¡ (Port: 5000)
npm run start:server

# å¯åŠ¨ Bç«¯ç®¡ç†åå° (Port: 5173)
npm run start:admin

# å¯åŠ¨ Cç«¯ç§»åŠ¨ç«¯ (å¾®ä¿¡å°ç¨‹åºæ¨¡å¼)
npm run start:mobile
```

---

## ğŸ“‚ ç›®å½•ç»“æ„

```plaintext
easy-stay-monorepo/
â”œâ”€â”€ client-mobile/      # Cç«¯ Taro é¡¹ç›®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/ # å…¬å…±ç»„ä»¶ (è™šæ‹Ÿåˆ—è¡¨, ä¸šåŠ¡å¡ç‰‡)
â”‚   â”‚   â”œâ”€â”€ pages/      # é¡µé¢ (é¦–é¡µ, åˆ—è¡¨, è¯¦æƒ…)
â”‚   â”‚   â””â”€â”€ services/   # API è¯·æ±‚å°è£…
â”œâ”€â”€ client-admin/       # Bç«¯ React ç®¡ç†åå°
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ pages/      # (ç™»å½•, é…’åº—å½•å…¥, å®¡æ ¸åˆ—è¡¨)
â”‚   â”‚   â””â”€â”€ utils/      # å·¥å…·å‡½æ•° (é‰´æƒ, æ ¼å¼åŒ–)
â”œâ”€â”€ server/             # Node.js åç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ controllers/# ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”œâ”€â”€ models/     # æ•°æ®åº“æ¨¡å‹ (Schema)
â”‚   â”‚   â”œâ”€â”€ routes/     # è·¯ç”±å®šä¹‰
â”‚   â”‚   â””â”€â”€ middlewares/# ä¸­é—´ä»¶ (Auth, ErrorHandler)
â”œâ”€â”€ PRD.md              # è¯¦ç»†äº§å“éœ€æ±‚æ–‡æ¡£
â””â”€â”€ README.md           # é¡¹ç›®å…¥å£æ–‡æ¡£
```

---

## ğŸ“… å¼€å‘è®¡åˆ’ (Timeline)

- [x] **Phase 0**: é¡¹ç›®åˆå§‹åŒ–ï¼ŒMonorepo æ­å»ºã€‚
- [ ] **Phase 1**: åç«¯æ ¸å¿ƒ API å¼€å‘ (Auth, Hotel CRUD)ã€‚
- [ ] **Phase 2**: Bç«¯ç®¡ç†åå°å¼€å‘ (å•†æˆ·å½•å…¥ + ç®¡ç†å‘˜å®¡æ ¸)ã€‚
- [ ] **Phase 3**: Cç«¯ç§»åŠ¨ç«¯å¼€å‘ (åˆ—è¡¨æ¸²æŸ“ä¼˜åŒ– + é¢„è®¢æµç¨‹)ã€‚
- [ ] **Phase 4**: è”è°ƒä¸ Bug Fixï¼Œæ–‡æ¡£å®Œå–„ã€‚


